


ARM Macro Assembler    Page 1 


    1 00000000                 AREA             |.text|, CODE, READONLY
    2 00000000         
    3 00000000 40024000 
                       GPIO_PORTE_BASE
                               EQU              0x40024000
    4 00000000 00000400 
                       GPIO_O_DIR
                               EQU              0x00000400
    5 00000000 00000500 
                       GPIO_O_DR2R
                               EQU              0x00000500
    6 00000000 0000051C 
                       GPIO_O_DEN
                               EQU              0x0000051C
    7 00000000 00000510 
                       GPIO_I_PUR
                               EQU              0x00000510
    8 00000000         
    9 00000000 00000001 
                       BROCHE0 EQU              0x01
   10 00000000 00000002 
                       BROCHE1 EQU              0x02
   11 00000000 00000003 
                       BROCHE0_1
                               EQU              0x03
   12 00000000         
   13 00000000 20001000 
                       BUMPERS_DATA_BASE
                               EQU              0x20001000
   14 00000000 00000001 
                       BUMPER_SW_OFFSET
                               EQU              0x01        ;; Is on/off option
                                                            
   15 00000000 00000002 
                       BUMPER_CNT_OFFSET
                               EQU              0x02        ;; Counter option
   16 00000000 00000010 
                       NEXT_BUMPER_OFFSET
                               EQU              0x10        ;; right, left
   17 00000000         
   18 00000000 20001000 
                       LEFT_BUMPER_BASE
                               EQU              BUMPERS_DATA_BASE
   19 00000000 20001001 
                       LEFT_BUMPER_ST_ADR
                               EQU              LEFT_BUMPER_BASE + BUMPER_SW_OF
FSET
   20 00000000 20000005 
                       LEFT_BUMPER_CT_ADR
                               EQU              0x20000005
   21 00000000         
   22 00000000 20001010 
                       RIGHT_BUMPER_BASE
                               EQU              BUMPERS_DATA_BASE + NEXT_BUMPER
_OFFSET
   23 00000000 20001011 
                       RIGHT_BUMPER_ST_ADR
                               EQU              RIGHT_BUMPER_BASE + BUMPER_SW_O
FFSET



ARM Macro Assembler    Page 2 


   24 00000000 20001011 
                       RIGHT_BUMPER_CT_ADR
                               EQU              RIGHT_BUMPER_BASE + BUMPER_SW_O
FFSET
   25 00000000         
   26 00000000         
   27 00000000                 ENTRY
   28 00000000                 EXPORT           BUMPER_DROIT_READSTATE
   29 00000000                 EXPORT           BUMPER_GAUCHE_READSTATE
   30 00000000         
   31 00000000                 EXPORT           LEFT_BUMPER_ST_ADR
   32 00000000                 EXPORT           RIGHT_BUMPER_ST_ADR
   33 00000000         
   34 00000000                 EXPORT           LEFT_BUMPER_CT_ADR
   35 00000000                 EXPORT           RIGHT_BUMPER_CT_ADR
   36 00000000         
   37 00000000                 EXPORT           BUMPERS_INIT
   38 00000000         
   39 00000000                 EXPORT           INIT_BUMPERS_ADRESS
   40 00000000         
   41 00000000         INIT_BUMPERS_ADRESS
   42 00000000 F04F 0000       MOV              r0, #0
   43 00000004         ; Charger l'adresse de LEFT_BUMPER_ST_ADR et stocker 0
   44 00000004 4910            LDR              r1, =LEFT_BUMPER_ST_ADR
   45 00000006 6008            STR              r0, [r1]
   46 00000008         
   47 00000008         ; Charger l'adresse de RIGHT_BUMPER_ST_ADR et stocker 0
   48 00000008 4910            LDR              r1, =RIGHT_BUMPER_ST_ADR
   49 0000000A 6008            STR              r0, [r1]
   50 0000000C         
   51 0000000C         ; Charger l'adresse de LEFT_BUMPER_CT_ADR et stocker 0
   52 0000000C 4910            LDR              r1, =LEFT_BUMPER_CT_ADR
   53 0000000E 6008            STR              r0, [r1]
   54 00000010         
   55 00000010         ; Charger l'adresse de RIGHT_BUMPER_CT_ADR et stocker 0
   56 00000010 490E            LDR              r1, =RIGHT_BUMPER_CT_ADR
   57 00000012 6008            STR              r0, [r1]
   58 00000014         
   59 00000014 4770            BX               LR
   60 00000016         
   61 00000016         BUMPERS_INIT
   62 00000016 4F0F            LDR              r7, = GPIO_PORTE_BASE + GPIO_I_
PUR
   63 00000018         
   64 00000018         ; Initialize BROCHE0_1 (BROCHE0 and BROCHE1)
   65 00000018 F04F 0003       LDR              r0, = BROCHE0_1
   66 0000001C 6038            STR              r0, [r7]
   67 0000001E         
   68 0000001E 4F0E            LDR              r7, = GPIO_PORTE_BASE + GPIO_O_
DEN
   69 00000020         
   70 00000020         ; Enable BROCHE0_1 (BROCHE0 and BROCHE1)
   71 00000020 F04F 0003       LDR              r0, = BROCHE0_1
   72 00000024 6038            STR              r0, [r7]
   73 00000026         
   74 00000026 B500            PUSH             {LR}
   75 00000028 F7FF FFFE       BL               INIT_BUMPERS_ADRESS
   76 0000002C F85D EB04       POP              {LR}
   77 00000030         ; Return



ARM Macro Assembler    Page 3 


   78 00000030 4770            BX               LR
   79 00000032         
   80 00000032         BUMPER_GAUCHE_READSTATE
   81 00000032 490A            LDR              r1, =GPIO_PORTE_BASE + (BROCHE1
<<2)
   82 00000034 6809            LDR              r1, [r1]
   83 00000036 4A04            LDR              r2, =LEFT_BUMPER_ST_ADR
   84 00000038 6011            STR              r1, [r2]
   85 0000003A 4770            BX               LR
   86 0000003C         
   87 0000003C         BUMPER_DROIT_READSTATE
   88 0000003C 4A03            LDR              r2, =RIGHT_BUMPER_ST_ADR
   89 0000003E 4908            LDR              r1, =GPIO_PORTE_BASE + (BROCHE0
<<2)
   90 00000040 6809            LDR              r1, [r1]
   91 00000042 6011            STR              r1, [r2]
   92 00000044 4770            BX               LR
   93 00000046         
   94 00000046                 END
              00 00 20001001 
              20001011 
              20000005 
              40024510 
              4002451C 
              40024008 
              40024004 
Command Line: --debug --xref --diag_suppress=9931 --cpu=Cortex-M3 --depend=.\ob
jects\bumpers.d -o.\objects\bumpers.o -I.\RTE\_Target_1 -IC:\Users\ibmad\AppDat
a\Local\Arm\Packs\ARM\CMSIS\5.5.1\CMSIS\Core\Include -IC:\Users\ibmad\AppData\L
ocal\Arm\Packs\Keil\LM3S_DFP\1.1.0\Device\Include --predefine="__EVAL SETA 1" -
-predefine="__UVISION_VERSION SETA 528" --predefine="_RTE_ SETA 1" --predefine=
"LM3S9B92 SETA 1" --list=.\listings\bumpers.lst src\Bumpers.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

.text 00000000

Symbol: .text
   Definitions
      At line 1 in file src\Bumpers.s
   Uses
      None
Comment: .text unused
BUMPERS_INIT 00000016

Symbol: BUMPERS_INIT
   Definitions
      At line 61 in file src\Bumpers.s
   Uses
      At line 37 in file src\Bumpers.s
Comment: BUMPERS_INIT used once
BUMPER_DROIT_READSTATE 0000003C

Symbol: BUMPER_DROIT_READSTATE
   Definitions
      At line 87 in file src\Bumpers.s
   Uses
      At line 28 in file src\Bumpers.s
Comment: BUMPER_DROIT_READSTATE used once
BUMPER_GAUCHE_READSTATE 00000032

Symbol: BUMPER_GAUCHE_READSTATE
   Definitions
      At line 80 in file src\Bumpers.s
   Uses
      At line 29 in file src\Bumpers.s
Comment: BUMPER_GAUCHE_READSTATE used once
INIT_BUMPERS_ADRESS 00000000

Symbol: INIT_BUMPERS_ADRESS
   Definitions
      At line 41 in file src\Bumpers.s
   Uses
      At line 39 in file src\Bumpers.s
      At line 75 in file src\Bumpers.s

5 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Absolute symbols

BROCHE0 00000001

Symbol: BROCHE0
   Definitions
      At line 9 in file src\Bumpers.s
   Uses
      At line 89 in file src\Bumpers.s
Comment: BROCHE0 used once
BROCHE0_1 00000003

Symbol: BROCHE0_1
   Definitions
      At line 11 in file src\Bumpers.s
   Uses
      At line 65 in file src\Bumpers.s
      At line 71 in file src\Bumpers.s

BROCHE1 00000002

Symbol: BROCHE1
   Definitions
      At line 10 in file src\Bumpers.s
   Uses
      At line 81 in file src\Bumpers.s
Comment: BROCHE1 used once
BUMPERS_DATA_BASE 20001000

Symbol: BUMPERS_DATA_BASE
   Definitions
      At line 13 in file src\Bumpers.s
   Uses
      At line 18 in file src\Bumpers.s
      At line 22 in file src\Bumpers.s

BUMPER_CNT_OFFSET 00000002

Symbol: BUMPER_CNT_OFFSET
   Definitions
      At line 15 in file src\Bumpers.s
   Uses
      None
Comment: BUMPER_CNT_OFFSET unused
BUMPER_SW_OFFSET 00000001

Symbol: BUMPER_SW_OFFSET
   Definitions
      At line 14 in file src\Bumpers.s
   Uses
      At line 19 in file src\Bumpers.s
      At line 23 in file src\Bumpers.s
      At line 24 in file src\Bumpers.s

GPIO_I_PUR 00000510

Symbol: GPIO_I_PUR
   Definitions
      At line 7 in file src\Bumpers.s
   Uses
      At line 62 in file src\Bumpers.s



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Absolute symbols

Comment: GPIO_I_PUR used once
GPIO_O_DEN 0000051C

Symbol: GPIO_O_DEN
   Definitions
      At line 6 in file src\Bumpers.s
   Uses
      At line 68 in file src\Bumpers.s
Comment: GPIO_O_DEN used once
GPIO_O_DIR 00000400

Symbol: GPIO_O_DIR
   Definitions
      At line 4 in file src\Bumpers.s
   Uses
      None
Comment: GPIO_O_DIR unused
GPIO_O_DR2R 00000500

Symbol: GPIO_O_DR2R
   Definitions
      At line 5 in file src\Bumpers.s
   Uses
      None
Comment: GPIO_O_DR2R unused
GPIO_PORTE_BASE 40024000

Symbol: GPIO_PORTE_BASE
   Definitions
      At line 3 in file src\Bumpers.s
   Uses
      At line 62 in file src\Bumpers.s
      At line 68 in file src\Bumpers.s
      At line 81 in file src\Bumpers.s
      At line 89 in file src\Bumpers.s

LEFT_BUMPER_BASE 20001000

Symbol: LEFT_BUMPER_BASE
   Definitions
      At line 18 in file src\Bumpers.s
   Uses
      At line 19 in file src\Bumpers.s
Comment: LEFT_BUMPER_BASE used once
LEFT_BUMPER_CT_ADR 20000005

Symbol: LEFT_BUMPER_CT_ADR
   Definitions
      At line 20 in file src\Bumpers.s
   Uses
      At line 34 in file src\Bumpers.s
      At line 52 in file src\Bumpers.s

LEFT_BUMPER_ST_ADR 20001001

Symbol: LEFT_BUMPER_ST_ADR
   Definitions
      At line 19 in file src\Bumpers.s
   Uses



ARM Macro Assembler    Page 3 Alphabetic symbol ordering
Absolute symbols

      At line 31 in file src\Bumpers.s
      At line 44 in file src\Bumpers.s
      At line 83 in file src\Bumpers.s

NEXT_BUMPER_OFFSET 00000010

Symbol: NEXT_BUMPER_OFFSET
   Definitions
      At line 16 in file src\Bumpers.s
   Uses
      At line 22 in file src\Bumpers.s
Comment: NEXT_BUMPER_OFFSET used once
RIGHT_BUMPER_BASE 20001010

Symbol: RIGHT_BUMPER_BASE
   Definitions
      At line 22 in file src\Bumpers.s
   Uses
      At line 23 in file src\Bumpers.s
      At line 24 in file src\Bumpers.s

RIGHT_BUMPER_CT_ADR 20001011

Symbol: RIGHT_BUMPER_CT_ADR
   Definitions
      At line 24 in file src\Bumpers.s
   Uses
      At line 35 in file src\Bumpers.s
      At line 56 in file src\Bumpers.s

RIGHT_BUMPER_ST_ADR 20001011

Symbol: RIGHT_BUMPER_ST_ADR
   Definitions
      At line 23 in file src\Bumpers.s
   Uses
      At line 32 in file src\Bumpers.s
      At line 48 in file src\Bumpers.s
      At line 88 in file src\Bumpers.s

18 symbols
359 symbols in table
